<!doctype html><html lang="en"><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1"><title>Solitaire (lite)</title>
<style>
body{margin:0;background:#0b2258;color:#fff;font-family:system-ui}
header{display:flex;gap:8px;justify-content:center;padding:10px}
.btn{background:#1c56ff;border:none;color:#fff;padding:8px 12px;border-radius:8px;font-weight:600}
#g{max-width:900px;margin:0 auto;padding:10px}
.row{display:flex;gap:10px;margin:12px 0;flex-wrap:wrap}
.pile{background:#102b6b;border-radius:10px;min-width:80px;min-height:110px;display:flex;align-items:flex-start;justify-content:center;padding:6px;flex:1}
.card{width:70px;height:100px;border-radius:10px;background:#fff;color:#111;display:grid;place-items:center;margin:4px;font-weight:700}
.s{color:#e11d48}.c{color:#111}
.sel{outline:3px solid #00e0ff}
</style>
<body>
<header>
<button class="btn" id="restart">Restart</button>
<button class="btn" id="auto">Auto</button>
</header>
<div id="g">
<div class="row">
<div class="pile" id="stock"></div>
<div class="pile" id="waste"></div>
<div class="pile" id="f0"></div>
<div class="pile" id="f1"></div>
<div class="pile" id="f2"></div>
<div class="pile" id="f3"></div>
</div>
<div class="row" id="tabs"></div>
</div>
<script>
const suits=['s','h','c','d']; const ranks=[1,2,3,4,5,6,7,8,9,10,11,12,13];
const deck=()=>{const a=[]; for(const s of suits) for(const r of ranks)a.push([s,r]); return a}
let stock=[], waste=[], F=[[],[],[],[]], T=[[],[],[],[],[],[],[]], sel=null;
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.random()*(i+1)|0; [a[i],a[j]]=[a[j],a[i]]}}
function newGame(){ stock=deck(); shuffle(stock); waste=[]; F=[[],[],[],[]]; T=T.map(()=>[]);
for(let i=0;i<7;i++) for(let j=0;j<=i;j++) T[i].push(stock.pop()); render(); }
function elCard([s,r]){const e=document.createElement('div'); e.className='card '+(s=='h'||s=='d'?'s':'c'); e.textContent=(r==1?'A':r==11?'J':r==12?'Q':r==13?'K':r)+{'s':'‚ô†','h':'‚ô•','c':'‚ô£','d':'‚ô¶'}[s]; e.dataset.card=s+','+r; return e}
function canToFoundation([s,r],k){const f=F[k]; if(!f.length) return r==1; const top=f[f.length-1]; return top[0]==s && r==top[1]+1}
function canStack(a,b){ // onto tableau: alternating color & descending
const ca=a[0]=='h'||a[0]=='d', cb=b[0]=='h'||b[0]=='d'; return ca!=cb && a[1]==b[1]-1 }
function render(){
document.getElementById('stock').innerHTML=''; document.getElementById('waste').innerHTML='';
stock.forEach((_,i)=>{ if(i==stock.length-1){const e=document.createElement('div'); e.className='card'; e.style.background='#0e2a72'; e.textContent='üÇ†'; e.onclick=deal; document.getElementById('stock').appendChild(e);}});
waste.slice(-1).forEach(c=>document.getElementById('waste').appendChild(elCard(c)));
for(let i=0;i<4;i++){ const pile=document.getElementById('f'+i); pile.innerHTML=''; F[i].slice(-1).forEach(c=>pile.appendChild(elCard(c))); pile.onclick=()=>tryMoveToFoundation(i)}
const tabs=document.getElementById('tabs'); tabs.innerHTML=''; T.forEach((p,pi)=>{const d=document.createElement('div'); d.className='pile';
p.forEach((c,ci)=>{ const e=elCard(c); e.onclick=()=>select('T',pi,ci); d.appendChild(e) }); tabs.appendChild(d);
});
if(sel){ const q=document.querySelector(`[data-card="${sel.card[0]},${sel.card[1]}"]`); if(q) q.classList.add('sel'); }
}
function deal(){ if(stock.length) waste.push(stock.pop()); else { stock=waste.reverse(); waste=[]; } render(); }
function select(kind,i,ci){
if(!sel){ if(kind==='W'&&waste.length) sel={from:'W', card:waste[waste.length-1]};
else if(kind==='T'&&T[i].length){ sel={from:'T', ti:i, idx:ci, card:T[i][ci]} }
render(); return;
}
// try place onto tableau i
if(kind==='T'){ if(!T[i].length){ if(sel.card[1]==13){ placeOnTableau(i); } }
else if(canStack(sel.card,T[i][T[i].length-1])) placeOnTableau(i);
}
render();
}
function placeOnTableau(i){
if(sel.from==='W'){ T[i].push(waste.pop()) }
else { const pile=T[sel.ti]; const mv=pile.splice(sel.idx); T[i].push(...mv) }
sel=null; render();
}
function tryMoveToFoundation(i){
if(sel && canToFoundation(sel.card,i)){
if(sel.from==='W') F[i].push(waste.pop());
else { const pile=T[sel.ti]; const mv=pile.splice(sel.idx); if(mv.length>1)return sel=null,render(); F[i].push(mv[0]); }
sel=null; render();
}
}
document.getElementById('auto').onclick=()=>{ // quick auto-foundation pass
let moved=true; while(moved){ moved=false;
for(let k=0;k<4;k++){
const topW=waste[waste.length-1]; if(topW && canToFoundation(topW,k)){F[k].push(waste.pop()); moved=true;}
T.forEach(p=>{ const top=p[p.length-1]; if(top && canToFoundation(top,k)){F[k].push(p.pop()); moved=true;} });
}
} render();
}
document.getElementById('restart').onclick=newGame;
newGame();
</script><div style="position:fixed;top:20px;right:20px;z-index:9999;">
  <a href="https://badoujr01.github.io/arcade-cloud-games/"
     style="background:#0D47A1;color:white;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:bold;box-shadow:0 4px 8px rgba(0,0,0,0.3);transition:background 0.2s;"
     onmouseover="this.style.background='#1565C0'"
     onmouseout="this.style.background='#0D47A1'">
    ‚Üê Back to Arcade Cloud
  </a>
</div></body></html>
